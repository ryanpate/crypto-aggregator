{{ $pag := $.Paginator }}
{{ if gt $pag.TotalPages 1 }}
<nav class="pagination" aria-label="Pagination">
    <ul>
        <!-- Previous page -->
        {{ if $pag.HasPrev }}
        <li class="page-item">
            <a class="page-link" href="{{ $pag.Prev.URL }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
        {{ else }}
        <li class="page-item disabled">
            <span class="page-link">&laquo;</span>
        </li>
        {{ end }}

        <!-- Page numbers -->
        {{ $ellipsed := false }}
        {{ $shouldEllipse := false }}
        {{ range $pag.Pagers }}
        {{ $right := sub .TotalPages .PageNumber }}
        {{ $showNumber := or (le .PageNumber 3) (eq .PageNumber $pag.PageNumber) }}
        {{ $showNumber := or $showNumber (and (ge .PageNumber (sub $pag.PageNumber 2)) (le .PageNumber (add
        $pag.PageNumber 2))) }}
        {{ $showNumber := or $showNumber (le $right 2) }}

        {{ if $showNumber }}
        {{ $ellipsed = false }}
        {{ $shouldEllipse = false }}
        {{ else }}
        {{ $shouldEllipse = not $ellipsed }}
        {{ $ellipsed = true }}
        {{ end }}

        {{ if $showNumber }}
        <li class="page-item {{ if eq . $pag }}active{{ end }}">
            <a class="page-link" href="{{ .URL }}">{{ .PageNumber }}</a>
        </li>
        {{ else if $shouldEllipse }}
        <li class="page-item disabled">
            <span class="page-link">&hellip;</span>
        </li>
        {{ end }}
        {{ end }}

        <!-- Next page -->
        {{ if $pag.HasNext }}
        <li class="page-item">
            <a class="page-link" href="{{ $pag.Next.URL }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
            </a>
        </li>
        {{ else }}
        <li class="page-item disabled">
            <span class="page-link">&raquo;</span>
        </li>
        {{ end }}
    </ul>
</nav>
{{ end }}